<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Divija | Born of Heaven</title>
    <meta name="description" content="A birthday celebration for someone divine">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&family=Cinzel:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --void: #030305;
            --deep: #08080f;
            --surface: #0d0d14;
            --celestial: #e8e8f2;
            --muted: rgba(232, 232, 242, 0.6);
            --dim: rgba(232, 232, 242, 0.35);
            --aurora: #7c6aef;
            --ethereal: #00d4aa;
            --gold: #d4a853;
            --rose: #e85d75;
        }

        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            background: var(--void);
            color: var(--celestial);
            font-family: 'Cormorant Garamond', Georgia, serif;
            line-height: 1.7;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* === STARFIELD === */
        #cosmos {
            position: fixed;
            inset: 0;
            z-index: -1;
            background: radial-gradient(ellipse at 50% 100%, #0a0a18 0%, var(--void) 70%);
        }

        /* === PORTAL (Entry Screen) === */
        #portal {
            position: fixed;
            inset: 0;
            z-index: 100;
            background: var(--void);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            transition: opacity 1.2s ease, visibility 1.2s;
        }

        #portal.dissolved {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .portal-date {
            font-size: 0.75rem;
            letter-spacing: 0.5em;
            color: var(--ethereal);
            text-transform: uppercase;
            margin-bottom: 1.5rem;
            opacity: 0;
            animation: fadeIn 0.8s ease 0.2s forwards;
        }

        .portal-title {
            font-family: 'Cinzel', serif;
            font-size: clamp(2.5rem, 7vw, 4.5rem);
            font-weight: 400;
            letter-spacing: 0.15em;
            margin-bottom: 0.5rem;
            opacity: 0;
            animation: fadeIn 0.8s ease 0.4s forwards;
        }

        .portal-title .scramble-char {
            display: inline-block;
            color: var(--dim);
            transition: color 0.1s;
        }

        .portal-title .scramble-char.revealed {
            color: var(--celestial);
        }

        .portal-meaning {
            font-size: 1rem;
            font-style: italic;
            color: var(--aurora);
            letter-spacing: 0.2em;
            margin-bottom: 3rem;
            opacity: 0;
            animation: fadeIn 0.8s ease 0.6s forwards;
        }

        .portal-btn {
            padding: 1rem 2.5rem;
            background: transparent;
            border: 1px solid rgba(232, 232, 242, 0.15);
            color: var(--celestial);
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            opacity: 0;
            animation: fadeIn 0.8s ease 0.8s forwards;
        }

        .portal-btn:hover {
            border-color: var(--ethereal);
            box-shadow: 0 0 40px rgba(0, 212, 170, 0.15);
            transform: translateY(-2px);
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* === MAIN CONTENT === */
        #journey {
            max-width: 780px;
            margin: 0 auto;
            padding: 6rem 1.5rem 8rem;
            opacity: 0;
            transition: opacity 1.5s ease;
        }

        #journey.visible {
            opacity: 1;
        }

        /* === HERO === */
        .hero {
            text-align: center;
            margin-bottom: 5rem;
        }

        .hero-label {
            font-size: 0.75rem;
            letter-spacing: 0.4em;
            color: var(--ethereal);
            text-transform: uppercase;
            margin-bottom: 1rem;
        }

        .hero-title {
            font-family: 'Cinzel', serif;
            font-size: clamp(2.2rem, 6vw, 3.5rem);
            font-weight: 400;
            letter-spacing: 0.1em;
            line-height: 1.3;
        }

        .hero-name {
            display: block;
            font-size: clamp(3rem, 9vw, 5rem);
            background: linear-gradient(135deg, var(--celestial) 0%, var(--gold) 50%, var(--celestial) 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 4s linear infinite;
        }

        @keyframes shimmer {
            to { background-position: 200% center; }
        }

        .hero-sub {
            font-size: 1rem;
            font-style: italic;
            color: var(--muted);
            letter-spacing: 0.15em;
            margin-top: 1rem;
        }

        .divider {
            width: 60px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--aurora), transparent);
            margin: 3rem auto;
        }

        /* === PLAYER === */
        .player {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.04);
            border-radius: 16px;
            padding: 1.5rem 2rem;
            max-width: 360px;
            margin: 0 auto 5rem;
            text-align: center;
        }

        .player-track {
            font-size: 1rem;
            color: var(--celestial);
            margin-bottom: 0.25rem;
        }

        .player-artist {
            font-size: 0.8rem;
            color: var(--dim);
            font-style: italic;
            margin-bottom: 1.25rem;
        }

        .player-bars {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 3px;
            height: 45px;
        }

        .bar {
            width: 3px;
            background: linear-gradient(to top, var(--aurora), var(--ethereal));
            border-radius: 2px;
            min-height: 3px;
            transition: height 0.08s ease;
        }

        .player-status {
            font-size: 0.7rem;
            color: var(--dim);
            margin-top: 1rem;
            letter-spacing: 0.1em;
        }

        /* === GALLERY === */
        .gallery {
            display: grid;
            gap: 1rem;
            margin-bottom: 5rem;
        }

        @media (min-width: 600px) {
            .gallery {
                grid-template-columns: 1fr 1.3fr;
                grid-template-rows: 1fr 1fr;
                gap: 1.25rem;
            }
            .gallery-portrait { grid-row: span 2; }
        }

        .gallery-frame {
            position: relative;
            overflow: hidden;
            background: var(--surface);
            border: 1px solid rgba(255, 255, 255, 0.04);
            border-radius: 4px;
        }

        .gallery-portrait { aspect-ratio: 3 / 4; }
        .gallery-landscape { aspect-ratio: 16 / 10; }

        @media (max-width: 599px) {
            .gallery-portrait { max-height: 400px; }
            .gallery-landscape { max-height: 250px; }
        }

        .gallery-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.6s ease, transform 0.8s ease;
        }

        .gallery-frame img.loaded {
            opacity: 1;
        }

        .gallery-frame:hover img {
            transform: scale(1.03);
        }

        .gallery-fallback {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--surface) 0%, var(--deep) 100%);
            color: var(--dim);
            font-size: 0.8rem;
            letter-spacing: 0.1em;
        }

        .gallery-fallback.hidden { display: none; }

        /* === LETTER === */
        .letter {
            background: linear-gradient(180deg, rgba(255,255,255,0.015) 0%, rgba(255,255,255,0.025) 100%);
            border-left: 2px solid var(--aurora);
            padding: 2.5rem 2rem 2.5rem 2.5rem;
            margin-bottom: 5rem;
            position: relative;
        }

        .letter::before {
            content: '"';
            position: absolute;
            top: 1rem;
            left: 1rem;
            font-size: 3rem;
            color: var(--aurora);
            opacity: 0.15;
            font-family: Georgia, serif;
            line-height: 1;
        }

        .letter p {
            font-size: 1.1rem;
            line-height: 2;
            color: rgba(232, 232, 242, 0.9);
            margin-bottom: 1.5rem;
        }

        .letter p:last-child {
            margin-bottom: 0;
        }

        .hl-gold {
            color: var(--gold);
            font-weight: 500;
        }

        .hl-aurora {
            color: var(--aurora);
        }

        .hl-ethereal {
            color: var(--ethereal);
        }

        .hl-rose {
            color: var(--rose);
        }

        .emphasis {
            font-style: italic;
            color: var(--celestial);
        }

        /* === CLOSING === */
        .closing {
            text-align: center;
            padding-top: 2rem;
        }

        .signature {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            letter-spacing: 0.2em;
            color: var(--aurora);
            margin-bottom: 2rem;
        }

        .milestone {
            font-size: 0.8rem;
            letter-spacing: 0.3em;
            color: var(--dim);
            text-transform: uppercase;
            margin-bottom: 3rem;
        }

        .punchline {
            font-size: 1.05rem;
            color: var(--muted);
            line-height: 1.8;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.01);
            max-width: 450px;
            margin: 0 auto;
        }

        .daddy {
            display: inline-block;
            color: var(--gold);
            font-weight: 600;
            letter-spacing: 0.05em;
            text-shadow: 0 0 20px rgba(212, 168, 83, 0.4);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; text-shadow: 0 0 30px rgba(212, 168, 83, 0.6); }
        }

        /* === SCROLL REVEAL === */
        .reveal {
            opacity: 0;
            transform: translateY(25px);
            transition: opacity 0.9s ease, transform 0.9s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* === RESPONSIVE === */
        @media (max-width: 600px) {
            #journey {
                padding: 4rem 1.25rem 6rem;
            }
            .letter {
                padding: 2rem 1.5rem 2rem 2rem;
            }
            .hero { margin-bottom: 4rem; }
            .gallery { margin-bottom: 4rem; }
        }
    </style>
</head>
<body>
    <canvas id="cosmos"></canvas>

    <!-- Entry Portal -->
    <section id="portal">
        <p class="portal-date">A Birthday Tribute</p>
        <h1 class="portal-title" id="scrambleTarget">DIVIJA</h1>
        <p class="portal-meaning">"Born of Heaven"</p>
        <button class="portal-btn" id="enterBtn">Begin Journey</button>
    </section>

    <!-- Main Journey -->
    <main id="journey">
        <header class="hero reveal">
            <p class="hero-label">Happy Birthday</p>
            <h1 class="hero-title">
                My Beloved
                <span class="hero-name">Divija</span>
            </h1>
            <p class="hero-sub">The One Who Shines From Within</p>
            <div class="divider"></div>
        </header>

        <section class="player reveal">
            <p class="player-track">Pisces</p>
            <p class="player-artist">Tony Ann</p>
            <div class="player-bars" id="visualizer"></div>
            <p class="player-status" id="audioStatus">Ready</p>
            <audio id="bgAudio" loop preload="metadata">
                <source src="Pisces - Tony Ann (Piano Cover).mp3" type="audio/mpeg">
            </audio>
        </section>

        <section class="gallery reveal">
            <figure class="gallery-frame gallery-portrait">
                <div class="gallery-fallback" id="fallback1">Memory I</div>
                <img src="K1.png" alt="Memory" data-fallback="fallback1" loading="lazy">
            </figure>
            <figure class="gallery-frame gallery-landscape">
                <div class="gallery-fallback" id="fallback2">Memory II</div>
                <img src="K2.png" alt="Memory" data-fallback="fallback2" loading="lazy">
            </figure>
            <figure class="gallery-frame gallery-landscape">
                <div class="gallery-fallback" id="fallback3">Memory III</div>
                <img src="K3.png" alt="Memory" data-fallback="fallback3" loading="lazy">
            </figure>
        </section>

        <article class="letter reveal">
            <p><span class="hl-gold">Divija</span>—your name carries the weight of the heavens. It means <span class="hl-aurora">"born of the divine,"</span> and after this year of knowing you, I understand why. Not because you are soft or gentle—you are neither. But because there is something <span class="emphasis">celestial</span> about a spirit that burns as fiercely as yours.</p>

            <p>When we first met, I will not pretend it was easy. You were <span class="hl-rose">sharp</span>. Guarded. A fortress of independence wrapped in edges that warned everyone to keep their distance. I looked at you and thought: <span class="emphasis">impossible</span>. I was frustrated, even angry. I saw rudeness where there was actually armor. I saw immaturity where there was protection.</p>

            <p>But I <span class="hl-ethereal">stayed</span>.</p>

            <p>And staying was the single best decision I have ever made. Behind those walls—behind the tough exterior, the sharp tongue, the relentless independence—I found someone <span class="hl-gold">extraordinary</span>. A mind that moves through mathematics like poetry. A work ethic that humbles entire rooms. A heart that feels so deeply it had to build defenses just to survive.</p>

            <p>You look at yourself and see flaws. I look at you and see a <span class="hl-aurora">constellation</span>—every point of light a quality you dismiss too easily. Your <span class="hl-ethereal">brilliance</span> is not just skill; it is art. Your strength is not stubbornness; it is <span class="hl-gold">resilience</span>. Your directness is not cruelty; it is honesty in a world that drowns in pretense.</p>

            <p>This year has been a journey. <span class="hl-gold">365 days</span> of learning the language of you. Of writing notes that mapped every way you moved me. Of watching you fight battles—with the world, with yourself—and emerge stronger each time. You have grown into something I can only describe as a <span class="hl-aurora">milestone</span>: a maturity that allows me to rest my heart in yours completely.</p>

            <p>You have changed, Divija. <span class="hl-ethereal">Beautifully. Powerfully. Intentionally.</span> And I have been honored to witness every step.</p>

            <p>Happy Birthday, my <span class="hl-gold">divine</span> one. My tough cookie. My star.</p>

            <p><span class="emphasis">I love you.</span></p>
        </article>

        <footer class="closing reveal">
            <p class="signature">Forever Yours</p>
            <p class="milestone">One Year & Counting</p>
            <div class="punchline">
                As much as you may hate to hear this:<br>
                I will always be <span class="daddy">DADDY</span>
            </div>
        </footer>
    </main>

<script>
(function() {
    'use strict';

    // ═══════════════════════════════════════════════════════════
    // FUNCTIONAL UTILITIES
    // ═══════════════════════════════════════════════════════════
    
    const pipe = (...fns) => x => fns.reduce((v, f) => f(v), x);
    const $ = sel => document.querySelector(sel);
    const $$ = sel => [...document.querySelectorAll(sel)];
    const clamp = (min, max) => n => Math.max(min, Math.min(max, n));
    const lerp = (a, b, t) => a + (b - a) * t;
    const rand = (a, b) => Math.random() * (b - a) + a;

    // Result type for error handling
    const Result = {
        Ok: v => ({ ok: true, value: v, map: f => Result.Ok(f(v)) }),
        Err: e => ({ ok: false, error: e, map: () => Result.Err(e) }),
        fromTry: fn => { try { return Result.Ok(fn()); } catch (e) { return Result.Err(e); } }
    };

    // Lazy evaluation
    const lazy = fn => {
        let computed = false, value;
        return () => computed ? value : (computed = true, value = fn());
    };

    // Throttle
    const throttle = (fn, ms) => {
        let last = 0;
        return (...args) => {
            const now = Date.now();
            if (now - last >= ms) { last = now; fn(...args); }
        };
    };

    // ═══════════════════════════════════════════════════════════
    // STARFIELD SYSTEM (Float32Array optimized)
    // ═══════════════════════════════════════════════════════════
    
    const Starfield = (() => {
        const canvas = $('#cosmos');
        const ctx = canvas.getContext('2d', { alpha: false });
        
        let W = 0, H = 0, running = true;
        const COUNT = 600;
        const xs = new Float32Array(COUNT);
        const ys = new Float32Array(COUNT);
        const zs = new Float32Array(COUNT);
        const sizes = new Float32Array(COUNT);
        const colors = new Uint8Array(COUNT);
        
        let speed = 1.5, targetSpeed = 1.5;

        const initStar = (i, randomZ = false) => {
            xs[i] = (Math.random() - 0.5) * W * 2;
            ys[i] = (Math.random() - 0.5) * H * 2;
            zs[i] = randomZ ? rand(1, 1800) : 1800;
            sizes[i] = rand(0.4, 1.8);
            colors[i] = Math.random() > 0.92 ? 1 : 0;
        };

        const resize = () => {
            W = canvas.width = window.innerWidth;
            H = canvas.height = window.innerHeight;
            for (let i = 0; i < COUNT; i++) initStar(i, true);
        };

        const render = () => {
            if (!running) return;
            
            // Trail effect
            ctx.fillStyle = 'rgba(3, 3, 5, 0.15)';
            ctx.fillRect(0, 0, W, H);
            
            speed = lerp(speed, targetSpeed, 0.02);
            const cx = W / 2, cy = H / 2;

            for (let i = 0; i < COUNT; i++) {
                zs[i] -= speed;
                if (zs[i] < 1) initStar(i, false);

                const k = 500 / zs[i];
                const x = xs[i] * k + cx;
                const y = ys[i] * k + cy;

                if (x > -10 && x < W + 10 && y > -10 && y < H + 10) {
                    const alpha = clamp(0, 1)((1800 - zs[i]) / 1000);
                    ctx.globalAlpha = alpha;
                    ctx.fillStyle = colors[i] ? '#00d4aa' : '#ffffff';
                    ctx.beginPath();
                    ctx.arc(x, y, Math.max(0.5, sizes[i] * k * 0.8), 0, 6.283);
                    ctx.fill();
                }
            }

            ctx.globalAlpha = 1;
            requestAnimationFrame(render);
        };

        const init = () => {
            resize();
            window.addEventListener('resize', throttle(resize, 150));
            render();
        };

        const warp = (s = 40) => { targetSpeed = s; setTimeout(() => targetSpeed = 1.5, 1500); };
        const stop = () => { running = false; };

        return { init, warp, stop };
    })();

    // ═══════════════════════════════════════════════════════════
    // TEXT SCRAMBLE (Time-based, fast)
    // ═══════════════════════════════════════════════════════════
    
    const TextScramble = (() => {
        const chars = '!<>-_\\/[]{}—=+*^?#_';
        
        const scramble = (el, text, duration = 600) => new Promise(resolve => {
            const start = performance.now();
            const len = text.length;
            
            const frame = now => {
                const progress = Math.min(1, (now - start) / duration);
                const revealed = Math.floor(len * progress);
                
                let output = '';
                for (let i = 0; i < len; i++) {
                    if (i < revealed) {
                        output += text[i];
                    } else {
                        output += `<span class="scramble-char">${chars[Math.floor(Math.random() * chars.length)]}</span>`;
                    }
                }
                
                el.innerHTML = output;
                
                if (progress < 1) {
                    requestAnimationFrame(frame);
                } else {
                    el.textContent = text;
                    resolve();
                }
            };
            
            requestAnimationFrame(frame);
        });

        return { scramble };
    })();

    // ═══════════════════════════════════════════════════════════
    // AUDIO ENGINE (Lazy context, graceful fallback)
    // ═══════════════════════════════════════════════════════════
    
    const AudioEngine = (() => {
        const audio = $('#bgAudio');
        const status = $('#audioStatus');
        const container = $('#visualizer');
        
        let ctx = null, analyser = null, data = null, bars = [], animId = null;
        let audioAvailable = true;

        const createBars = () => {
            const fragment = document.createDocumentFragment();
            for (let i = 0; i < 24; i++) {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = '3px';
                fragment.appendChild(bar);
                bars.push(bar);
            }
            container.appendChild(fragment);
        };

        const initContext = lazy(() => {
            const result = Result.fromTry(() => {
                const AC = window.AudioContext || window.webkitAudioContext;
                ctx = new AC();
                analyser = ctx.createAnalyser();
                analyser.fftSize = 64;
                analyser.smoothingTimeConstant = 0.75;
                
                const src = ctx.createMediaElementSource(audio);
                src.connect(analyser);
                analyser.connect(ctx.destination);
                
                data = new Uint8Array(analyser.frequencyBinCount);
                return true;
            });
            
            if (!result.ok) {
                console.warn('[Audio] Context failed:', result.error.message);
                return false;
            }
            return true;
        });

        const visualize = () => {
            if (!analyser || !data) return;
            
            analyser.getByteFrequencyData(data);
            const len = bars.length;
            
            for (let i = 0; i < len; i++) {
                const val = data[i * 2] || 0;
                const h = Math.max(3, (val / 255) * 40);
                bars[i].style.height = `${h}px`;
            }
            
            animId = requestAnimationFrame(visualize);
        };

        const play = async () => {
            if (!audioAvailable) return;
            
            initContext();
            
            if (ctx && ctx.state === 'suspended') {
                await ctx.resume().catch(() => {});
            }
            
            try {
                await audio.play();
                status.textContent = 'Playing';
                visualize();
            } catch (e) {
                console.warn('[Audio] Playback failed:', e.message);
                status.textContent = 'Audio unavailable';
            }
        };

        const init = () => {
            createBars();
            
            audio.addEventListener('error', () => {
                audioAvailable = false;
                status.textContent = 'Audio not found';
                console.warn('[Audio] File failed to load');
            });

            audio.addEventListener('canplaythrough', () => {
                status.textContent = 'Ready';
            });
        };

        return { init, play };
    })();

    // ═══════════════════════════════════════════════════════════
    // IMAGE LOADER (Graceful fallback)
    // ═══════════════════════════════════════════════════════════
    
    const ImageLoader = (() => {
        const init = () => {
            $$('.gallery-frame img').forEach(img => {
                const fallbackId = img.dataset.fallback;
                const fallback = $(`#${fallbackId}`);
                
                img.addEventListener('load', () => {
                    img.classList.add('loaded');
                    if (fallback) fallback.classList.add('hidden');
                });
                
                img.addEventListener('error', () => {
                    console.warn(`[Image] Failed to load: ${img.src}`);
                    if (fallback) fallback.classList.remove('hidden');
                });
                
                // Check if already loaded
                if (img.complete && img.naturalWidth > 0) {
                    img.classList.add('loaded');
                    if (fallback) fallback.classList.add('hidden');
                }
            });
        };

        return { init };
    })();

    // ═══════════════════════════════════════════════════════════
    // SCROLL REVEAL
    // ═══════════════════════════════════════════════════════════
    
    const ScrollReveal = (() => {
        const observer = new IntersectionObserver(
            entries => entries.forEach(e => {
                if (e.isIntersecting) {
                    e.target.classList.add('visible');
                    observer.unobserve(e.target);
                }
            }),
            { threshold: 0.1, rootMargin: '0px 0px -50px 0px' }
        );

        const init = () => $$('.reveal').forEach(el => observer.observe(el));

        return { init };
    })();

    // ═══════════════════════════════════════════════════════════
    // ENTRY PORTAL
    // ═══════════════════════════════════════════════════════════
    
    const Portal = (() => {
        const portal = $('#portal');
        const btn = $('#enterBtn');
        const journey = $('#journey');
        const title = $('#scrambleTarget');

        const enter = async () => {
            Starfield.warp(35);
            portal.classList.add('dissolved');
            
            setTimeout(() => {
                journey.classList.add('visible');
                ScrollReveal.init();
                AudioEngine.play();
            }, 600);
        };

        const init = async () => {
            // Fast text scramble on load
            await TextScramble.scramble(title, 'DIVIJA', 500);
            btn.addEventListener('click', enter);
        };

        return { init };
    })();

    // ═══════════════════════════════════════════════════════════
    // MAIN INITIALIZATION
    // ═══════════════════════════════════════════════════════════
    
    const init = () => {
        Starfield.init();
        AudioEngine.init();
        ImageLoader.init();
        Portal.init();
        
        console.log('[System] Initialized successfully');
    };

    // Start immediately - no blocking
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }

})();
</script>
</body>
</html>
